
function lib2-vcs()
{
   echo git
   echo ${TESTREPOS}/lib2.bundle
}

function lib2-env()
{
   PREFIX=$1
   TARGET=$2

   export C_INCLUDE_PATH=$PWD/include:$C_INCLUDE_PATH
   export LIBRARY_PATH=.:$PWD/lib:$LIBRARY_PATH
   export LD_LIBRARY_PATH=.:$PWD/lib:$LD_LIBRARY_PATH
}

function lib2-variant1-config()
{
   PREFIX=$1
   TARGET=$2

   echo '#define VARIANT "variant1"' > config.h
}

function lib2-config()
{
   PREFIX=$1
   TARGET=$2

   echo '#define VARIANT "default"' > config.h
}

function lib2-build()
{
   PREFIX=$1
   TARGET=$2

   make
}

function lib2-install()
{
   PREFIX=$1
   TARGET=$2

   mkdir -p $PREFIX/include
   mkdir -p $PREFIX/lib
   cp liblib2.so $PREFIX/lib
   cp lib2.h $PREFIX/include
}

function lib2-tests()
{
   PREFIX=$1
   TARGET=$2

   ./main2
}
