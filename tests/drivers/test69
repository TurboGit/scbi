RUNS ./scbi test17

source .root/builds/test17/build/.log/fct.cmd
source .root/builds/test17/build/.log/env.cmd

IS $ROOT_DIR == /this/is/it
IS $ABC_ROOT == /perfect/here

function prepend-to-var()
{
    local VAR=$1
    local VALUE=$2

    define-var PREPEND $VAR "$VALUE"
}

function append-to-var()
{
    local VAR=$1
    local VALUE=$2

    define-var APPEND $VAR "$VALUE"
}

function add-to-var()
{
    local VAR=$1
    local VALUE=$2

    define-var ADD $VAR "$VALUE"
}

function set-var()
{
    local VAR=$1
    local VALUE=$2

    define-var SET $VAR "$VALUE"
}

add-to-var VDIR /this/dir
add-to-var VDIR /another/dir
add-to-var VDIR /first/dir
add-to-var VDIR /another/dir

IS $VDIR == "/first/dir:/another/dir:/this/dir"

prepend-to-var VDIR /this/dir

IS $VDIR == "/this/dir:/first/dir:/another/dir"

prepend-to-var VDIR /this/dir

IS $VDIR == "/this/dir:/first/dir:/another/dir"

append-to-var VDIR /this/dir

IS $VDIR == "/first/dir:/another/dir:/this/dir"

append-to-var VDIR /this/dir

IS $VDIR == "/first/dir:/another/dir:/this/dir"

append-to-var VDIR /another/dir

IS $VDIR == "/first/dir:/this/dir:/another/dir"

set-var VDIR /another/dir

IS $VDIR == "/another/dir"

prepend-to-var VDIR /this/dir

IS $VDIR == "/this/dir:/another/dir"
