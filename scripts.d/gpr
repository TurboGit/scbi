
function gpr-vcs()
{
    echo git
    echo https://github.com/AdaCore/gpr
}

function gpr-depends()
{
    echo gnatcoll-core
    echo gnatcoll-bindings-iconv
    echo gnatcoll-bindings-gmp
    echo langkit_support
}

function do-config()
{
    local PREFIX=$1
    local TARGET=$2
    GPROPTS="$3"

    (
        gpython-env
        add-to-var PYTHONPATH \
                   $SCBI_BDIR/langkit_support/$TARGET-default/build/langkit

        make $GPROPTS setup
    )
}

function gpr-out-of-tree()
{
    echo false
}

function gpr-debug-config()
{
    local PREFIX=$1
    local TARGET=$2

    do-config $PREFIX $TARGET "BUILD=debug"
}

function gpr-config()
{
    local PREFIX=$1
    local TARGET=$2

    do-config $PREFIX $TARGET "BUILD=release"
}

function gpr-build()
{
    local PREFIX=$1
    local TARGET=$2

    make
}

function gpr-install()
{
    local PREFIX=$1
    local TARGET=$2

    make install
}
