
function c-aws-vcs()
{
    echo default
    echo none
    echo git
    echo https://github.com/AdaCore/aws
}

function c-aws-tar()
{
    local VERSION=$1

    echo default
    echo none
    echo none
    echo none
    echo aws-$VERSION-src.tar.gz
}

function c-aws-out-of-tree()
{
    echo false
}

function c-aws-cross-build-depends()
{
    echo c-sandbox
}

function c-aws-build-depends()
{
    echo p-gnat
    echo c-gprbuild
    echo c-libadalang-tools
}

function c-aws-depends()
{
    echo c-xmlada
    echo c-libadalang
}

function c-aws-env()
{
    local PREFIX=$1
    local TARGET=$2

    add-to-var PATH             $PREFIX/bin
    add-to-var GPR_PROJECT_PATH $PREFIX/share/gpr
}

function c-aws-cross-config()
{
    local PREFIX=$1
    local TARGET=$2

    rm -f makefile.setup &&
        make prefix=$PREFIX LAL=false ZLIB=false \
             DEBUG=$(get-build-type GPR true) TARGET=$TARGET setup
}

function c-aws-config()
{
    local PREFIX=$1
    local TARGET=$2

    rm -f makefile.setup &&
        make prefix=$PREFIX DEBUG=$(get-build-type GPR true) setup
}

function c-aws-build()
{
    local PREFIX=$1
    local TARGET=$2

    make
}

function c-aws-install()
{
    local PREFIX=$1
    local TARGET=$2

    make install
}

function c-aws-tests()
{
    local PREFIX=$1
    local TARGET=$2
    local VARIANT=$3
    local OPTS=$4

    (
        add-to-var PATH /opt/gnatpython/bin
        cd regtests &&
            python2 ./gen_system_tags.py ../makefile.setup &&
            python2 ./testsuite.py --jobs=$SCBI_JOBS $OPTS
    )

    display-file regtests/out/report
}
