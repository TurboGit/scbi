
# we want to disable the pre-install for GPRbuild as the cleanup
# would remove the current used tool for installation.
function module-pre-install()
{
    echo ""
}

function gprbuild-vcs()
{
    echo git
    echo https://github.com/AdaCore/gprbuild
}

function gprbuild-out-of-tree()
{
    echo true
}

function gprbuild-depends()
{
    echo libgpr
    echo xmlada
}

function gprbuild-config()
{
    local PREFIX=$1
    local TARGET=$2

    make -f ../src/Makefile prefix=$PREFIX PROCESSORS=$JOBS setup
}

function gprbuild-build()
{
    local PREFIX=$1
    local TARGET=$2

    make -f ../src/Makefile
}

function gprbuild-install()
{
    local PREFIX=$1
    local TARGET=$2

    make -f ../src/Makefile install
}
