
function c-gnatcoll-core-vcs()
{
    echo default
    echo none
    echo git
    echo https://github.com/AdaCore/gnatcoll-core.git
}

function c-gnatcoll-core-cross-build-depends()
{
    echo c-sandbox
}

function c-gnatcoll-core-build-depends()
{
    echo p-gnat
    echo c-gprbuild
}

function c-gnatcoll-core-depends()
{
    echo c-libgpr
    echo c-xmlada
}

function c-gnatcoll-core-out-of-tree()
{
    echo false
}

function c-gnatcoll-core-env()
{
    local PREFIX=$1
    local TARGET=$2

    add-to-var GPR_PROJECT_PATH $PREFIX/$TARGET/share/gpr
    add-to-var LD_LIBRARY_PATH  $PREFIX/$TARGET/lib
}

function c-gnatcoll-core-common-config-options()
{
    local PREFIX=$1
    local TARGET=$2

    echo prefix=$PREFIX
    echo PROCESSORS=$SCBI_JOBS
    echo INTEGRATED=yes
    echo TARGET=$TARGET
    echo NORMALIZED_TARGET=$TARGET
}

function c-gnatcoll-core-cross-config-options()
{
    local PREFIX=$1
    local TARGET=$2

    #  Only cross Windows is supported

    echo GNATCOLL_MMAP=no
    echo GNATCOLL_OS=windows
}

function c-gnatcoll-core-config-options()
{
    local PREFIX=$1
    local TARGET=$2

    #  Non cross case

    echo GNATCOLL_MMAP=yes
    echo GNATCOLL_OS=unix
}

function c-gnatcoll-core-build()
{
    local PREFIX=$1
    local TARGET=$2

    local OPTIONS=()
    get-config-options OPTIONS $PREFIX $TARGET $VARIANT

    make "${OPTIONS[@]}"
}

function c-gnatcoll-core-install()
{
    local PREFIX=$1
    local TARGET=$2

    make NORMALIZED_TARGET=$TARGET install
}
