
function binutils-vcs()
{
    echo git
    echo git://sourceware.org/git/binutils-gdb.git
}

function binutils-version()
{
    PREFIX=$1
    TARGET=$2

    TOOL=ld

    if [ $HOST != $TARGET ]; then
        TOOL=${TARGET}-ld
    fi

    if [ "$(which $TOOL)" = "" ]; then
        echo $VERSION_ERROR
    else
        echo $($TOOL --version | head -1 | cut -d' ' -f5)
    fi
}

function binutils-config()
{
    PREFIX=$1
    TARGET=$2

    CONF_OPT="--prefix=$PREFIX --disable-multilib --disable-gdb"

    if [ $HOST == $TARGET ]; then
	cd build && ../src/configure --build=$HOST $CONF_OPT
    else
	cd build && ../src/configure --target=$TARGET $CONF_OPT
    fi
}

function binutils-build()
{
    PREFIX=$1
    TARGET=$2

    cd build && make -j6
}

function binutils-install()
{
    PREFIX=$1
    TARGET=$2

    cd build && make install
}
